<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Booking Room Management</title>
    <script src="./js/vue.js"></script>
    <script src="./js/axios.min.js"></script>
    <script src="./js/element-index.js"></script>
    <link rel="stylesheet" href="./css/element-index.css">
    <style>
        html, body, #app {
            height: 100%;
            margin: 10px;
        }

        .app-container{
            margin: 20px;
        }


        .el-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .el-header, .el-footer {
            background-color: #E9EEF3;
            color: #333;
            text-align: center;
            line-height: 60px;
            height: 120px;
        }
        .el-main {
            background-color: #E9EEF3;
            color: #333;
            /*text-align: center;*/
            /*line-height: 160px;*/
            margin-top: 20px;
            padding: 30px; /* Add internal margins to adjust the position */
            flex: 1; /* Make the main part fill the remaining space */
            position: relative;
        }
        .el-row {
            margin-bottom: 20px;
        }
        .el-row:last-child {
            margin-bottom: 0;
        }
        .el-col {
            border-radius: 4px;
        }
        .bg-purple-dark {
            background: #99a9bf;
        }
        .grid-content {
            border-radius: 4px;
            min-height: 36px;
        }


        .custom-button {
            width: 80%;
            height: 40px;
            margin: 10px 0;
            font-size: 16px;
            font-family: Arial, sans-serif;
            color: #ffffff;
            font-weight: bold;
        }

        .select-container {
            /*position: absolute;*/
            /*top: 20px; */
            /*left: 20px; */

            margin: 0; /* Make sure the selector has no extra margins */
            display: flex;
            align-items: center;

        }

        .el-select {
            width: 100%;
        }

        .el-table .warning-row {
            background: #f2fbd4;
        }

        .el-table .success-row {
            background: #faeab3;
        }

        .el-table .info-row {
            background: #d0ebff;
        }

        .custom-checkbox {
            background-color: #E6A23C;
            font-size: 14px ;
            font-family: Arial, sans-serif;
            font-weight: bold;
            color: #f8f4f4;
            padding: 10px ;
            margin-right: 10px;
        }

        .custom-toggle-button {
            background-color: #E6A23C; /* 绿色背景 */
            color: white;
        }

        .custom-clear-button {
            background-color: #E6A23C; /* 红色背景 */
            color: white;
        }

    </style>


</head>
<body>
<div id="app" class="app-container">
    <el-container>
        <el-header>
            <el-row :gutter="20">
                <el-col :span="6">
                    <el-button type="warning" class="custom-button">View Resources</el-button>
                </el-col>
                <el-col :span="6">
                    <el-button type="warning" class="custom-button">Book a Resource</el-button>
                </el-col>
                <el-col :span="6">
                    <el-button type="warning" class="custom-button">Cancel Booking</el-button>
                </el-col>
                <el-col :span="6">
                    <el-button type="warning" class="custom-button">Inquiry Resources</el-button>
                </el-col>
            </el-row>
        </el-header>
        <el-main>
            <el-row :gutter="20">
                <el-col :span="6">
                    <div class="select-container">
                        <el-select v-model="value" clearable placeholder="Please select">
                            <el-option
                                    v-for="item in options"
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value">
                            </el-option>
                        </el-select>
                    </div>
                </el-col>
            </el-row>
            <el-row>
                <el-col :span="24">
                    <el-table
                            ref="multipleTable"
                            :data="filteredTableData"
                            style="width: 100%"
                            @selection-change="handleSelectionChange"
                            :row-class-name="tableRowClassName">
                        <el-table-column
                                type="selection"
                                width="55">
                        </el-table-column>
<!--                            :data="tableData"-->
<!--                            style="width: 100%"-->
<!--                            :row-class-name="tableRowClassName">-->
                        <el-table-column
                                prop="date"
                                label="Application Date"
                                width="180">
                        </el-table-column>
                        <el-table-column
                                prop="name"
                                label="Applicant Name"
                                width="180">
                        </el-table-column>
                        <el-table-column
                                prop="address"
                                label="Address">
                        </el-table-column>
                        <el-table-column
                                prop="postcode"
                                label="Postcode"
                                width="180">
                        </el-table-column>
                        <el-table-column
                                prop="dueDate"
                                label="Due Date"
                                width="180">
                        </el-table-column>
                    </el-table>
                    <div style="margin-top: 20px">
                        <el-button class="custom-toggle-button" @click="toggleSelection([filteredTableData[1], filteredTableData[2]])">Toggle selection of second and third rows</el-button>
                        <el-button class="custom-clear-button" @click="toggleSelection()">Clear selection</el-button>
                    </div>
                </el-col>
            </el-row>

            <el-row>
                <el-col :span="12">

                </el-col>

                <el-col :span="12" style="text-align: right;">
                    <div class="block">
                        <el-pagination
                                @size-change="handleSizeChange"
                                @current-change="handleCurrentChange"
                                :current-page="currentPage4"
                                :page-sizes="[10, 20, 30, 40]"
                                :page-size="10"
                                layout="total, sizes, prev, pager, next, jumper"
                                :total="40"
                                prev-text="Previous"
                                next-text="Next">
                            <template slot="total">
                                Total {{total}} items
                            </template>
                            <template slot="size">
                                <el-select v-model="pageSize" @change="handleSizeChange">
                                    <el-option
                                            v-for="size in [10, 20, 30, 40]"
                                            :key="size"
                                            :label="size + ' items/page'"
                                            :value="size">
                                    </el-option>
                                </el-select>
                            </template>
                            <template slot="pager">
                                <el-pager
                                        :current-page="currentPage4"
                                        :page-count="pageCount"
                                        @change="handleCurrentChange">
                                </el-pager>
                            </template>
                            <template slot="jumper">
                                Go to <el-input-number v-model="currentPage4" @change="handleCurrentChange" :min="1" :max="pageCount"> </el-input-number> page
                            </template>
                        </el-pagination>
                    </div>
                </el-col>
            </el-row>
        </el-main>
    </el-container>
</div>

<script>
    new Vue({
        el: '#app',
        data() {
            return {
                options: [{
                    value: 'Ongoing',
                    label: 'Ongoing'
                }, {
                    value: 'Upcoming',
                    label: 'Upcoming'
                }, {
                    value: 'Completed',
                    label: 'Completed'
                }],
                selectedStatus: '',
                tableData: [], // Initialize to an empty array and then fetch data from the back end
                checked1: false,
                checked2: false,
                currentPage4: 1,
                pageSize: 10,
                total: 40,
                pageCount: 4 // Total pages
            };
        },
        computed: {
            // Filter data based on the selected status
            filteredTableData() {
                if (this.selectedStatus) {
                    return this.tableData.filter(item => item.status === this.selectedStatus);
                }
                return this.tableData;
            }
        },
        methods: {
            tableRowClassName({ row }) {
                if (row.status === 'Ongoing') {
                    return 'warning-row';
                } else if (row.status === 'Upcoming') {
                    return 'info-row';
                } else if (row.status === 'Completed') {
                    return 'success-row';
                }
                return '';
            },
            fetchTableData() {
                // Simulates asynchronous requests for data from the back end
                setTimeout(() => {
                    this.tableData = [
                        {
                            date: 'July 16 2024',
                            name: 'Lily',
                            address: 'Queen St. Room 101',
                            postcode: 'CF24 0SZ',
                            dueDate: 'July 23 2024',
                            status: 'Upcoming'
                        },
                        {
                            date: 'July 18 2024',
                            name: 'Cecilia',
                            address: 'Queen St. Room 102',
                            postcode: 'CF24 0SZ',
                            dueDate: 'July 25 2024',
                            status: 'Ongoing'
                        },
                        {
                            date: 'July 18 2024',
                            name: 'Sunny',
                            address: 'Queen St. Room 103',
                            postcode: 'CF24 0SZ',
                            dueDate: 'July 28 2024',
                            status: 'Completed'
                        },
                        {
                            date: 'July 20 2024',
                            name: 'Zoey',
                            address: 'Queen St. Room 104',
                            postcode: 'CF24 0SZ',
                            dueDate: 'July 30 2024',
                            status: 'Ongoing'
                        },
                        {
                            date: 'July 21 2024',
                            name: 'Zoey',
                            address: 'Queen St. Room 105',
                            postcode: 'CF24 0SZ',
                            dueDate: 'July 30 2024',
                            status: 'Upcoming'
                        }
                    ];
                }, 1000);
            },
            handleSizeChange(val) {
                this.pageSize = val;
                console.log(`Items per page: ${val}`);
            },
            handleCurrentChange(val) {
                this.currentPage4 = val;
                console.log(`Current page: ${val}`);
            },
            toggleSelection(rows) {
                if (rows) {
                    rows.forEach(row => {
                        this.$refs.multipleTable.toggleRowSelection(row);
                    });
                } else {
                    this.$refs.multipleTable.clearSelection();
                }
            },
            handleSelectionChange(val) {
                this.multipleSelection = val;
            }
        },
        mounted() {
            this.fetchTableData(); // Obtain data after the component is mounted
        }
    });
</script>
</body>
</html>